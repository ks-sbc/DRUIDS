/* DRUIDS Security Visual Coding System for MkDocs
 * Implements the three-tier security classification system
 * L0 (Public), L1 (Member), L2 (Cadre)
 */

/* ===== SECURITY COLOR DEFINITIONS ===== */
:root {
  /* Base security colors - Inverted Transgender Flag Theme */
  --security-l0-primary: #a4340a;    /* Public - Inverted light blue -> dark orange */
  --security-l1-primary: #0a562f;    /* Member - Inverted pink -> dark green */
  --security-l2-primary: #000000;    /* Cadre - Inverted white -> black */
  
  /* Transparency variants */
  --security-l0-alpha-10: rgba(164, 52, 10, 0.1);
  --security-l0-alpha-20: rgba(164, 52, 10, 0.2);
  --security-l1-alpha-10: rgba(10, 86, 47, 0.1);
  --security-l1-alpha-20: rgba(10, 86, 47, 0.2);
  --security-l2-alpha-10: rgba(0, 0, 0, 0.1);
  --security-l2-alpha-20: rgba(0, 0, 0, 0.2);
  
  /* Accessibility patterns for colorblind users */
  --pattern-dots: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='3' cy='3' r='1'/%3E%3C/g%3E%3C/svg%3E");
  --pattern-diagonal: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23ffffff' stroke-opacity='0.1' stroke-width='1'%3E%3Cpath d='m0,20 l20,-20 M-5,5 l10,-10 M15,25 l10,-10'/%3E%3C/g%3E%3C/svg%3E");
  --pattern-cross: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23ffffff' stroke-opacity='0.1' stroke-width='1'%3E%3Cpath d='M10,0 L10,20 M0,10 L20,10'/%3E%3C/g%3E%3C/svg%3E");
}

/* ===== SECURITY BADGES ===== */
.security-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border-radius: 1rem;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  border: 2px solid;
  position: relative;
  z-index: 1;
}

.security-badge.l0 {
  background: var(--security-l0-alpha-20);
  border-color: var(--security-l0-primary);
  color: var(--security-l0-primary);
}

.security-badge.l1 {
  background: var(--security-l1-alpha-20);
  border-color: var(--security-l1-primary);
  color: var(--security-l1-primary);
}

.security-badge.l2 {
  background: var(--security-l2-alpha-20);
  border-color: var(--security-l2-primary);
  color: var(--security-l2-primary);
}

/* ===== SECURITY INDICATORS ===== */
.security-indicator-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  display: inline-block;
  margin-right: 0.5rem;
  border: 2px solid currentColor;
  position: relative;
}

.security-indicator-dot.l0 {
  background: var(--security-l0-primary);
}

.security-indicator-dot.l1 {
  background: var(--security-l1-primary);
}

.security-indicator-dot.l2 {
  background: var(--security-l2-primary);
}

/* Pattern overlays for accessibility */
.security-indicator-dot.l0::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-image: var(--pattern-dots);
  border-radius: 50%;
  opacity: 0.3;
}

.security-indicator-dot.l1::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-image: var(--pattern-diagonal);
  border-radius: 50%;
  opacity: 0.3;
}

.security-indicator-dot.l2::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-image: var(--pattern-cross);
  border-radius: 50%;
  opacity: 0.3;
}

/* ===== SECURITY BORDERS ===== */
.security-border {
  border-left: 4px solid;
  padding-left: 1rem;
  position: relative;
}

.security-border.l0 {
  border-left-color: var(--security-l0-primary);
}

.security-border.l1 {
  border-left-color: var(--security-l1-primary);
}

.security-border.l2 {
  border-left-color: var(--security-l2-primary);
}

/* ===== SECURITY ALERTS ===== */
.security-alert {
  padding: 1rem;
  border-radius: 0.5rem;
  border: 2px solid;
  margin: 1rem 0;
  position: relative;
  background-repeat: repeat;
  background-size: 20px 20px;
}

.security-alert.l0 {
  background-color: var(--security-l0-alpha-10);
  border-color: var(--security-l0-primary);
  color: var(--security-l0-primary);
  background-image: var(--pattern-dots);
}

.security-alert.l1 {
  background-color: var(--security-l1-alpha-10);
  border-color: var(--security-l1-primary);
  color: var(--security-l1-primary);
  background-image: var(--pattern-diagonal);
}

.security-alert.l2 {
  background-color: var(--security-l2-alpha-10);
  border-color: var(--security-l2-primary);
  color: var(--security-l2-primary);
  background-image: var(--pattern-cross);
}

.security-alert-title {
  font-weight: 700;
  margin-bottom: 0.5rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.security-alert-title::before {
  content: '';
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: currentColor;
}

/* ===== PAGE-LEVEL SECURITY CLASSIFICATION ===== */
.page-security-header {
  background: var(--mandalorian-surface);
  border: 2px solid;
  border-radius: 0.5rem;
  padding: 1rem;
  margin-bottom: 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 1rem;
}

.page-security-header.l0 {
  border-color: var(--security-l0-primary);
  background: var(--security-l0-alpha-10);
}

.page-security-header.l1 {
  border-color: var(--security-l1-primary);
  background: var(--security-l1-alpha-10);
}

.page-security-header.l2 {
  border-color: var(--security-l2-primary);
  background: var(--security-l2-alpha-10);
}

.page-security-info {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.page-security-badge {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.page-security-description {
  font-size: 0.9rem;
  color: var(--mandalorian-text-dim);
}

/* ===== NAVIGATION SECURITY INDICATORS ===== */
.nav-item[data-security] {
  position: relative;
}

.nav-item[data-security="l0"]::before,
.nav-subitem[data-security="l0"]::before,
.nav-subsubitem[data-security="l0"]::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 70%;
  background: var(--security-l0-primary);
  border-radius: 2px;
}

.nav-item[data-security="l1"]::before,
.nav-subitem[data-security="l1"]::before,
.nav-subsubitem[data-security="l1"]::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 70%;
  background: var(--security-l1-primary);
  border-radius: 2px;
}

.nav-item[data-security="l2"]::before,
.nav-subitem[data-security="l2"]::before,
.nav-subsubitem[data-security="l2"]::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 70%;
  background: var(--security-l2-primary);
  border-radius: 2px;
}

/* ===== TABLE SECURITY STYLING ===== */
.security-table {
  border: 2px solid;
  border-radius: 0.5rem;
  overflow: hidden;
}

.security-table.l0 {
  border-color: var(--security-l0-primary);
}

.security-table.l1 {
  border-color: var(--security-l1-primary);
}

.security-table.l2 {
  border-color: var(--security-l2-primary);
}

.security-table th {
  position: relative;
}

.security-table.l0 th {
  background: var(--security-l0-primary);
}

.security-table.l1 th {
  background: var(--security-l1-primary);
}

.security-table.l2 th {
  background: var(--security-l2-primary);
}

/* ===== SECURITY TOOLTIPS ===== */
.security-tooltip {
  position: relative;
  display: inline-block;
  cursor: help;
}

.security-tooltip:hover::after {
  content: attr(data-security-info);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--mandalorian-surface);
  color: var(--mandalorian-text);
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  border: 2px solid var(--mandalorian-border);
  font-size: 0.8rem;
  white-space: nowrap;
  z-index: 1000;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */
@media (prefers-reduced-motion: reduce) {
  .security-indicator-dot,
  .security-badge,
  .security-alert {
    animation: none;
  }
}

@media (prefers-contrast: high) {
  .security-badge,
  .security-alert {
    border-width: 3px;
  }
  
  .security-indicator-dot {
    border-width: 3px;
  }
  
  .security-border {
    border-left-width: 6px;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  .security-badge,
  .security-alert,
  .page-security-header {
    background: white !important;
    border: 2px solid black !important;
    color: black !important;
  }
  
  .security-badge.l0::after,
  .security-alert.l0::after {
    content: " (L0 - Public)";
  }
  
  .security-badge.l1::after,
  .security-alert.l1::after {
    content: " (L1 - Member)";
  }
  
  .security-badge.l2::after,
  .security-alert.l2::after {
    content: " (L2 - Cadre)";
  }
  
  .security-indicator-dot::after {
    display: none;
  }
}

/* ===== SCREEN READER SUPPORT ===== */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.security-level-text {
  /* Screen reader text for security levels */
}

/* ===== SECURITY CONTEXT HELPERS ===== */
.security-context-l0 {
  /* Apply L0 styling context */
  --current-security-color: var(--security-l0-primary);
  --current-security-bg: var(--security-l0-alpha-10);
}

.security-context-l1 {
  /* Apply L1 styling context */
  --current-security-color: var(--security-l1-primary);
  --current-security-bg: var(--security-l1-alpha-10);
}

.security-context-l2 {
  /* Apply L2 styling context */
  --current-security-color: var(--security-l2-primary);
  --current-security-bg: var(--security-l2-alpha-10);
}

/* Use with: class="security-context-l1" */
.security-dynamic {
  color: var(--current-security-color);
  background: var(--current-security-bg);
  border-color: var(--current-security-color);
}