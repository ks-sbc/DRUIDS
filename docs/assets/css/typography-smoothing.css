/* Typography Smoothing for Queer Mandalorian Theme
 * Fixes font sizing proportions across the interface
 */

/* ===== GLOBAL TYPOGRAPHY RESET ===== */
:root {
  /* Better font size scale */
  --qm-text-xs: 0.75rem;      /* 12px */
  --qm-text-sm: 0.875rem;     /* 14px */
  --qm-text-base: 1rem;       /* 16px - reduced from 19px for better balance */
  --qm-text-lg: 1.125rem;     /* 18px */
  --qm-text-xl: 1.25rem;      /* 20px */
  --qm-text-2xl: 1.5rem;      /* 24px */
  --qm-text-3xl: 1.875rem;    /* 30px */
  --qm-text-4xl: 2.25rem;     /* 36px */
  --qm-text-5xl: 3rem;        /* 48px */
  
  /* Improved line heights */
  --qm-leading-tight: 1.25;
  --qm-leading-normal: 1.5;
  --qm-leading-relaxed: 1.75;
  
  /* Letter spacing adjustments */
  --qm-tracking-tight: -0.025em;
  --qm-tracking-normal: 0;
  --qm-tracking-wide: 0.05em;
  --qm-tracking-wider: 0.1em;
  --qm-tracking-widest: 0.15em;
}

/* ===== BASE TYPOGRAPHY ===== */
body {
  font-size: var(--qm-text-base) !important;
  line-height: var(--qm-leading-relaxed) !important;
}

/* ===== MAIN CONTENT TYPOGRAPHY ===== */
.md-typeset {
  font-size: var(--qm-text-base) !important;
  line-height: var(--qm-leading-relaxed) !important;
}

.md-typeset h1 {
  font-size: var(--qm-text-5xl) !important;
  line-height: var(--qm-leading-tight) !important;
  letter-spacing: var(--qm-tracking-wider) !important;
  margin: 3rem 0 2rem !important;
}

.md-typeset h2 {
  font-size: var(--qm-text-4xl) !important;
  line-height: var(--qm-leading-tight) !important;
  letter-spacing: var(--qm-tracking-wide) !important;
  margin: 2.5rem 0 1.5rem !important;
}

.md-typeset h3 {
  font-size: var(--qm-text-3xl) !important;
  line-height: var(--qm-leading-normal) !important;
  letter-spacing: var(--qm-tracking-normal) !important;
  margin: 2rem 0 1rem !important;
}

.md-typeset h4 {
  font-size: var(--qm-text-2xl) !important;
  line-height: var(--qm-leading-normal) !important;
  margin: 1.5rem 0 0.75rem !important;
}

.md-typeset h5 {
  font-size: var(--qm-text-xl) !important;
  line-height: var(--qm-leading-normal) !important;
  margin: 1.25rem 0 0.5rem !important;
}

.md-typeset h6 {
  font-size: var(--qm-text-lg) !important;
  line-height: var(--qm-leading-normal) !important;
  margin: 1rem 0 0.5rem !important;
}

/* ===== LEFT SIDEBAR (NAVIGATION) ===== */
.md-nav--primary .md-nav__title {
  font-size: var(--qm-text-2xl) !important;  /* Reduced from 2.8rem */
  letter-spacing: var(--qm-tracking-wider) !important;
  padding: 1.5rem 0.5rem !important;
  line-height: var(--qm-leading-tight) !important;
}

.md-nav__title {
  font-size: var(--qm-text-sm) !important;  /* Section titles */
  letter-spacing: var(--qm-tracking-wider) !important;
  font-weight: 700 !important;
  text-transform: uppercase !important;
  margin-bottom: 0.5rem !important;
}

.md-nav__link {
  font-size: var(--qm-text-sm) !important;  /* Navigation links */
  line-height: var(--qm-leading-normal) !important;
  padding: 0.5rem 0.75rem !important;
}

/* Nested navigation items slightly smaller */
.md-nav__item--nested .md-nav__link {
  font-size: calc(var(--qm-text-sm) * 0.95) !important;
}

/* ===== RIGHT SIDEBAR (TABLE OF CONTENTS) ===== */
.md-nav--secondary .md-nav__title {
  font-size: var(--qm-text-base) !important;  /* TOC title */
  letter-spacing: var(--qm-tracking-wider) !important;
  margin-bottom: 1rem !important;
  padding-bottom: 0.75rem !important;
  border-bottom: 2px solid rgba(0, 207, 193, 0.3) !important;
}

.md-nav--secondary .md-nav__link {
  font-size: var(--qm-text-sm) !important;  /* TOC links */
  line-height: var(--qm-leading-relaxed) !important;
  padding: 0.375rem 0.5rem !important;
  margin: 0.125rem 0 !important;
}

/* Nested TOC items with hierarchy */
.md-nav--secondary .md-nav__item--nested > .md-nav__list > .md-nav__item .md-nav__link {
  font-size: calc(var(--qm-text-sm) * 0.95) !important;
  padding-left: 1.5rem !important;
  opacity: 0.9;
}

.md-nav--secondary .md-nav__item--nested > .md-nav__list > .md-nav__item .md-nav__item .md-nav__link {
  font-size: calc(var(--qm-text-sm) * 0.9) !important;
  padding-left: 2.5rem !important;
  opacity: 0.85;
}

/* ===== CODE TYPOGRAPHY ===== */
pre, code {
  font-size: var(--qm-text-sm) !important;
  line-height: var(--qm-leading-normal) !important;
}

.md-typeset code {
  font-size: 0.875rem !important;  /* Relative to parent */
  padding: 0.125rem 0.25rem !important;
}

/* ===== HEADER BAR ===== */
.md-header__title {
  font-size: var(--qm-text-xl) !important;
  letter-spacing: var(--qm-tracking-wide) !important;
}

.md-header__topic {
  font-size: var(--qm-text-base) !important;
}

/* ===== SEARCH ===== */
.md-search__input {
  font-size: var(--qm-text-base) !important;
}

/* ===== FOOTER ===== */
.md-footer {
  font-size: var(--qm-text-sm) !important;
}

.md-footer-copyright {
  font-size: var(--qm-text-xs) !important;
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
@media screen and (max-width: 1219px) {
  :root {
    --qm-text-base: 0.9375rem;  /* 15px on tablets */
  }
  
  .md-nav--primary .md-nav__title {
    font-size: var(--qm-text-xl) !important;
  }
}

@media screen and (max-width: 959px) {
  :root {
    --qm-text-base: 0.875rem;  /* 14px on mobile */
  }
  
  .md-typeset h1 {
    font-size: var(--qm-text-4xl) !important;
  }
  
  .md-typeset h2 {
    font-size: var(--qm-text-3xl) !important;
  }
}

/* ===== SPECIAL ADJUSTMENTS ===== */
/* Ensure inline code doesn't break text flow */
.md-typeset p code,
.md-typeset li code,
.md-typeset td code {
  font-size: 0.875em !important;
  line-height: inherit !important;
  vertical-align: baseline !important;
}

/* Better list typography */
.md-typeset ul,
.md-typeset ol {
  font-size: inherit !important;
  line-height: inherit !important;
}

.md-typeset li {
  margin: 0.25rem 0 !important;
}

/* Table typography */
.md-typeset table {
  font-size: var(--qm-text-sm) !important;
}

.md-typeset th {
  font-size: var(--qm-text-sm) !important;
  font-weight: 700 !important;
  letter-spacing: var(--qm-tracking-wide) !important;
}

/* Blockquote typography */
.md-typeset blockquote {
  font-size: var(--qm-text-base) !important;
  line-height: var(--qm-leading-relaxed) !important;
  font-style: italic !important;
}

/* ===== IMPROVE READABILITY ===== */
/* Add max-width to content for better reading */
.md-typeset p,
.md-typeset ul,
.md-typeset ol,
.md-typeset blockquote {
  max-width: 75ch;  /* Optimal reading width */
}

/* But allow full width for code blocks and tables */
.md-typeset pre,
.md-typeset .codehilite,
.md-typeset .highlight,
.md-typeset table {
  max-width: none !important;
}

/* Better spacing between elements */
.md-typeset > *:not(:first-child) {
  margin-top: 1rem;
}

.md-typeset h1,
.md-typeset h2,
.md-typeset h3,
.md-typeset h4,
.md-typeset h5,
.md-typeset h6 {
  margin-top: 2em;
}

.md-typeset h1 + *,
.md-typeset h2 + *,
.md-typeset h3 + * {
  margin-top: 0.75rem !important;
}

/* ===== SMOOTH FONT RENDERING ===== */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Ensure consistent rendering for headers */
h1, h2, h3, h4, h5, h6 {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}